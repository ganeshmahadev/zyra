## ‚úÖ **Detailed Actionable Task Checklist for Building Terminal-based AI Coding Agent MVP**

---

### üöÄ **Project Initialization and Setup**

- [x] Create a GitHub repository named `zyra-cli`.
- [x] Clone repository locally and initialize with `npm init -y`.
- [x] Set up `.gitignore` to exclude `node_modules`, `.env`, logs, and build artifacts.
- [x] Install TypeScript and initialize configuration (`tsconfig.json`).
- [x] Configure ESLint (`.eslintrc.json`) and Prettier (`.prettierrc`) for code formatting and linting.
- [x] Add scripts to `package.json` for build, lint, test, and run.
- [x] Set up basic folder structure (`src/`, `tests/`, `bin/`, `config/`).

---

### üì¶ **CLI Interface and Command Parsing**

- [x] Install `commander` and set up basic CLI entry point (`bin/zyra.ts`).
- [x] Implement main command to invoke interactive REPL (`zyra repl`).
- [x] Implement help command (`zyra --help`) that displays available commands.
- [x] Ensure executable permissions (`chmod +x bin/zyra.ts`) and link via npm scripts.
- [x] Verify basic CLI execution (`./bin/zyra.ts repl`) runs without errors.

---

### üéõÔ∏è **Interactive REPL Implementation**

- [x] Install and configure `readline` or `enquirer` for user input.
- [x] Implement interactive REPL loop: prompt user, process input, return response.
- [x] Handle basic REPL commands (`/help`, `/clear`, `/exit`) with meaningful output.
- [x] Maintain command history navigation using arrow keys.
- [x] Add REPL prompt customizations (colors, context indicators).

---

### üß† **System Prompt and User Prompt Management**

- [x] Create and store the `systemPrompt` text in a dedicated config file (`config/systemPrompt.ts`).
- [x] Load and inject `systemPrompt` at initialization of AI context.
- [x] Accept user input as a structured `userPrompt` for sending to AI API.
- [x] Ensure prompts follow formatting standards (Markdown/structured JSON).
- [x] Log user and AI prompts in timestamped conversation history (`logs/conversation.log`).

---

### ‚öôÔ∏è **AI Integration and Semantic Querying**

- [x] Install and configure the Anthropic SDK (or compatible alternative API client).
- [x] Set up `.env` file to securely store API keys and environment variables.
- [x] Implement function to query AI (`queryAI(messages: Message[])`) with streaming output.
- [x] Verify basic API connectivity by sending a simple test message and receiving response.

---

### üìÇ **Tool System: Core Implementation**

- [x] Define `Tool` interface with structured inputs, outputs, and execution logic.
- [x] Implement dynamic tool loading mechanism (e.g., scan `tools/` directory at startup).
- [x] Provide a method (`executeTool`) to invoke tools based on AI-generated tool calls.
- [x] Verify basic tool invocation through mock calls in REPL.

---

### üõ†Ô∏è **Individual Tools Implementation**

#### **File System Tools**

- [x] Implement `listDir` tool: List files/directories at given path.
- [x] Implement `readFile` tool: Return file content securely.
- [x] Implement `editFile` tool: Overwrite file content after diff verification.
- [x] Implement `deleteFile` tool: Delete specified file safely (with confirmation prompt).
- [x] Implement `createFile` tool: Create new files with content, checking for existing files.

#### **Search Tools**

- [x] Implement `fileSearch` tool: Fuzzy match filenames across directories.
- [x] Implement `grepSearch` tool: Regex content search via `glob`.

#### **Semantic Tools**

- [ ] Set up basic semantic embedding mechanism (stub function for embedding te t).
- [ ] Implement `semanticSearch` tool: Return semantically relevant code snippets based on query.
- [ ] Implement `readSemanticSearchFiles` tool: Retrieve top semantic matches with full file content.

#### **Terminal Command Tool (Bash Integration)**

- [x] Implement `bash` tool: Execute commands in a secure, persistent shell session.
- [x] Ensure commands have strict permission verification (banned commands, safe execution environment).
- [x] Capture and handle stdout/stderr, enforce timeout mechanisms (default 2 min).
- [x] Persist environment variables and working directories between bash calls.

---

### üõ°Ô∏è **Security & Permission System**

- [ ] Implement per-session permission store (in-memory).
- [ ] Prompt user clearly for tool permissions on first use (e.g., file access, shell command e ecution).
- [ ] Persist granted permissions in a session configuration (`config/session-permissions.json`).
- [ ] Enforce strict checking of permissions before any sensitive tool action.

---

### üìö **Conte t Management**

- [ ] Implement automatic loading of project-specific instructions from `zyra.md`.
- [ ] Collect git conte t (current branch, modified files, recent commits) using bash tool.
- [ ] Provide summarized directory structure to AI on session start.
- [ ] Compact conversation history periodically (`/compact` command implementation).

---

### üìë **Configuration Management**

- [ ] Implement global config storage (`~/.zyrarc.json`) to persist user preferences and API keys.
- [ ] Implement project-specific config (`.zyrarc.json`) for allowed tools, commands, and local overrides.
- [ ] Provide CLI command (`zyra config`) to view and edit configurations.

---

### üìä **Analytics & Error Handling**

- [ ] Implement basic analytics logging (session duration, commands used).
- [ ] Implement local error logging (`logs/error.log`) capturing stack traces.

---

### üîç **Logging & Auditability**

- [ ] Ensure each AI action (tool e ecution, API call) is logged in structured logs (`logs/actions.log`).
- [ ] Implement `zyra log` CLI command to review session actions and AI decisions.
- [ ] Provide detailed diffs in logs for file modifications to track all file changes transparently.

---

### ‚úÖ **Testing & Quality Assurance**

- [ ] Configure Jest for testing (`tests/` directory).
- [ ] Write initial tests for core CLI functionality and prompt handling.
- [ ] Write unit tests for all tools individually, including edge cases and error handling.
- [ ] Establish GitHub Actions CI pipeline for running tests and linting checks on each PR.

---

### üìñ **Documentation & User Onboarding**

- [ ] Create initial README covering installation, configuration, and basic usage.
- [ ] Add detailed documentation (`docs/`) for each CLI command, prompt conventions, and available tools.
- [ ] Provide e ample workflows (e.g., bugfi es, feature implementations) in the documentation.
- [ ] Implement `zyra help <command>` providing detailed conte tual help.